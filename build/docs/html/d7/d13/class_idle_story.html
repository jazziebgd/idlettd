<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IdleTTD: IdleStory Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IdleTTD<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">IdleTTD - a gamescript for OpenTTD</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d7/d13/class_idle_story.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d5/de8/class_idle_story-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">IdleStory Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class that contains main IdleTTD code.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8418ce0df004f41687045eea9f5bf7ff" id="r_a8418ce0df004f41687045eea9f5bf7ff"><td class="memItemLeft" align="right" valign="top">constructor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8418ce0df004f41687045eea9f5bf7ff">IdleStory</a> (int companyID, int storyPageID=GSStoryPage.STORY_PAGE_INVALID)</td></tr>
<tr class="memdesc:a8418ce0df004f41687045eea9f5bf7ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class constructor. Requires valid company id.  <br /></td></tr>
<tr class="separator:a8418ce0df004f41687045eea9f5bf7ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Initialization and lifecycle</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions below are setting up and starting base script functionality </p>
</div></td></tr>
<tr class="memitem:a4ee746cb12cc6874510439575f85a999" id="r_a4ee746cb12cc6874510439575f85a999"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ee746cb12cc6874510439575f85a999">Initialize</a> (int lastActiveTime, int lastYearBalance, int secondToLastYearBalance, int intCurrentCash)</td></tr>
<tr class="memdesc:a4ee746cb12cc6874510439575f85a999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes game session.  <br /></td></tr>
<tr class="separator:a4ee746cb12cc6874510439575f85a999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e40930a26ac9f78dd42706ad8f3cf5" id="r_a25e40930a26ac9f78dd42706ad8f3cf5"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25e40930a26ac9f78dd42706ad8f3cf5">runIdleLoop</a> ()</td></tr>
<tr class="memdesc:a25e40930a26ac9f78dd42706ad8f3cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes one game script iteration.  <br /></td></tr>
<tr class="separator:a25e40930a26ac9f78dd42706ad8f3cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747985d06b5102dc5ed52b01846e5163" id="r_a747985d06b5102dc5ed52b01846e5163"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a747985d06b5102dc5ed52b01846e5163">HandleButtonClick</a> (int buttonId, GSEventStoryPageButtonClick event)</td></tr>
<tr class="memdesc:a747985d06b5102dc5ed52b01846e5163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles button clicks.  <br /></td></tr>
<tr class="separator:a747985d06b5102dc5ed52b01846e5163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58fce52265f3b1a7669058a2d6d7f542" id="r_a58fce52265f3b1a7669058a2d6d7f542"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58fce52265f3b1a7669058a2d6d7f542">GetPageID</a> ()</td></tr>
<tr class="memdesc:a58fce52265f3b1a7669058a2d6d7f542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Guaranteed to return valid current idle story page ID.  <br /></td></tr>
<tr class="separator:a58fce52265f3b1a7669058a2d6d7f542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Functions that manage story book pages</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These functions prepare data and call <a class="el" href="../../da/db4/class_idle_pages.html" title="Handles story book pages for IdleTTD.">IdlePages</a> instance to manage story book page screens </p>
</div></td></tr>
<tr class="memitem:a4d5e40cdb668941d25303102866d38f4" id="r_a4d5e40cdb668941d25303102866d38f4"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d5e40cdb668941d25303102866d38f4">ShowIdleReport</a> (int intNewIdleBalance=0)</td></tr>
<tr class="memdesc:a4d5e40cdb668941d25303102866d38f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows idle report screen.  <br /></td></tr>
<tr class="separator:a4d5e40cdb668941d25303102866d38f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8c67c06658ddf3e999d7924dec8a35" id="r_aaa8c67c06658ddf3e999d7924dec8a35"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa8c67c06658ddf3e999d7924dec8a35">ShowStatsScreen</a> ()</td></tr>
<tr class="memdesc:aaa8c67c06658ddf3e999d7924dec8a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows stats screen.  <br /></td></tr>
<tr class="separator:aaa8c67c06658ddf3e999d7924dec8a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4dd48131a632e7e2d551712921dc2fd" id="r_af4dd48131a632e7e2d551712921dc2fd"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4dd48131a632e7e2d551712921dc2fd">ShowSaveWarningScreen</a> ()</td></tr>
<tr class="memdesc:af4dd48131a632e7e2d551712921dc2fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows save warning screen.  <br /></td></tr>
<tr class="separator:af4dd48131a632e7e2d551712921dc2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a396d3466ec2cd0f415c5dab978a4b17e" id="r_a396d3466ec2cd0f415c5dab978a4b17e"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a396d3466ec2cd0f415c5dab978a4b17e">RenderStatsScreen</a> ()</td></tr>
<tr class="memdesc:a396d3466ec2cd0f415c5dab978a4b17e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders stats screen.  <br /></td></tr>
<tr class="separator:a396d3466ec2cd0f415c5dab978a4b17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349428cbfc386c53a17520c8c0b7a27a" id="r_a349428cbfc386c53a17520c8c0b7a27a"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a349428cbfc386c53a17520c8c0b7a27a">UpdateDuration</a> ()</td></tr>
<tr class="memdesc:a349428cbfc386c53a17520c8c0b7a27a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates duration text.  <br /></td></tr>
<tr class="separator:a349428cbfc386c53a17520c8c0b7a27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a500fa9afeb6c28147de926112da25d91" id="r_a500fa9afeb6c28147de926112da25d91"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a500fa9afeb6c28147de926112da25d91">UpdateReportCloseWarning</a> (bool boolShowWarning=true)</td></tr>
<tr class="memdesc:a500fa9afeb6c28147de926112da25d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates warning text on idle report screen.  <br /></td></tr>
<tr class="separator:a500fa9afeb6c28147de926112da25d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6817c405df22e242646b903930e144f1" id="r_a6817c405df22e242646b903930e144f1"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6817c405df22e242646b903930e144f1">UpdateReportSaveWarning</a> (bool boolShowWarning=true)</td></tr>
<tr class="memdesc:a6817c405df22e242646b903930e144f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates save warning element on idle report screen.  <br /></td></tr>
<tr class="separator:a6817c405df22e242646b903930e144f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Utility functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Common utility and helper functions that are too specific for util class </p>
</div></td></tr>
<tr class="memitem:a6130daf1b2acf9807ceb2f5795ab0cb6" id="r_a6130daf1b2acf9807ceb2f5795ab0cb6"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6130daf1b2acf9807ceb2f5795ab0cb6">EnterCompanyMode</a> ()</td></tr>
<tr class="memdesc:a6130daf1b2acf9807ceb2f5795ab0cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enters company mode.  <br /></td></tr>
<tr class="separator:a6130daf1b2acf9807ceb2f5795ab0cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26677bef40de4e35f4823c93aaeda000" id="r_a26677bef40de4e35f4823c93aaeda000"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26677bef40de4e35f4823c93aaeda000">LeaveCompanyMode</a> ()</td></tr>
<tr class="memdesc:a26677bef40de4e35f4823c93aaeda000"><td class="mdescLeft">&#160;</td><td class="mdescRight">Leaves company mode.  <br /></td></tr>
<tr class="separator:a26677bef40de4e35f4823c93aaeda000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebbc3449e9db49d30910ba531f7072a" id="r_a5ebbc3449e9db49d30910ba531f7072a"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ebbc3449e9db49d30910ba531f7072a">SetLastYearBalance</a> (int value=0)</td></tr>
<tr class="memdesc:a5ebbc3449e9db49d30910ba531f7072a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores last year balance.  <br /></td></tr>
<tr class="separator:a5ebbc3449e9db49d30910ba531f7072a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace351584ef5dbdaab7c63520ee340a76" id="r_ace351584ef5dbdaab7c63520ee340a76"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace351584ef5dbdaab7c63520ee340a76">SetLastInactiveSeconds</a> (int value=0)</td></tr>
<tr class="memdesc:ace351584ef5dbdaab7c63520ee340a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores last inactive seconds.  <br /></td></tr>
<tr class="separator:ace351584ef5dbdaab7c63520ee340a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aad523bd5f2c3634482aad2dd66bed2" id="r_a7aad523bd5f2c3634482aad2dd66bed2"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7aad523bd5f2c3634482aad2dd66bed2">CalculateIdleBalance</a> ()</td></tr>
<tr class="memdesc:a7aad523bd5f2c3634482aad2dd66bed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates latest idle balance.  <br /></td></tr>
<tr class="separator:a7aad523bd5f2c3634482aad2dd66bed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28a579eebace91e5c8f9eb988aff6d8" id="r_ab28a579eebace91e5c8f9eb988aff6d8"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab28a579eebace91e5c8f9eb988aff6d8">GetCurrentCash</a> (bool boolIgnoreLoan=false)</td></tr>
<tr class="memdesc:ab28a579eebace91e5c8f9eb988aff6d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns bank balance for player.  <br /></td></tr>
<tr class="separator:ab28a579eebace91e5c8f9eb988aff6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4463aa3d8cfd2316b7f3a784d11cefa4" id="r_a4463aa3d8cfd2316b7f3a784d11cefa4"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4463aa3d8cfd2316b7f3a784d11cefa4">ChangeBankBalance</a> (int balanceChange=0)</td></tr>
<tr class="memdesc:a4463aa3d8cfd2316b7f3a784d11cefa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes company bank balance.  <br /></td></tr>
<tr class="separator:a4463aa3d8cfd2316b7f3a784d11cefa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa557428df21d229ec98191c4e485b74b" id="r_aa557428df21d229ec98191c4e485b74b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa557428df21d229ec98191c4e485b74b">ShowIdleBalanceNews</a> (int balanceChange)</td></tr>
<tr class="memdesc:aa557428df21d229ec98191c4e485b74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays news about idle balance.  <br /></td></tr>
<tr class="separator:aa557428df21d229ec98191c4e485b74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929e5de04581c624b717751cc2d4bceb" id="r_a929e5de04581c624b717751cc2d4bceb"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a929e5de04581c624b717751cc2d4bceb">ScrollToCompanyHQ</a> ()</td></tr>
<tr class="memdesc:a929e5de04581c624b717751cc2d4bceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scrolls to HQ.  <br /></td></tr>
<tr class="separator:a929e5de04581c624b717751cc2d4bceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c76727439a2fee352425103d9bc1c2f" id="r_a9c76727439a2fee352425103d9bc1c2f"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c76727439a2fee352425103d9bc1c2f">GetSummaryVehicleStats</a> (bool force=false)</td></tr>
<tr class="memdesc:a9c76727439a2fee352425103d9bc1c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns summary stats for all vehicles.  <br /></td></tr>
<tr class="separator:a9c76727439a2fee352425103d9bc1c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f1020275c85f032107fd7853fc1c58" id="r_ae6f1020275c85f032107fd7853fc1c58"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6f1020275c85f032107fd7853fc1c58">GetAllVehicleTypeStats</a> (bool force=false)</td></tr>
<tr class="memdesc:ae6f1020275c85f032107fd7853fc1c58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns vehicle stats grouped by type.  <br /></td></tr>
<tr class="separator:ae6f1020275c85f032107fd7853fc1c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab818e77714f4fa33ae381d8e9db81c2f" id="r_ab818e77714f4fa33ae381d8e9db81c2f"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab818e77714f4fa33ae381d8e9db81c2f">GetVehicleTypeStats</a> (int vehicleType, bool force=false)</td></tr>
<tr class="memdesc:ab818e77714f4fa33ae381d8e9db81c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns summary stats vehicles of given type.  <br /></td></tr>
<tr class="separator:ab818e77714f4fa33ae381d8e9db81c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b84852c6e561b881bffcf8c4b125d95" id="r_a9b84852c6e561b881bffcf8c4b125d95"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b84852c6e561b881bffcf8c4b125d95">CacheVehicleStats</a> (bool force=false)</td></tr>
<tr class="memdesc:a9b84852c6e561b881bffcf8c4b125d95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refreshes vehicle stats cache.  <br /></td></tr>
<tr class="separator:a9b84852c6e561b881bffcf8c4b125d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb29563c3ce66f4f2ed0d73aea35404a" id="r_aeb29563c3ce66f4f2ed0d73aea35404a"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb29563c3ce66f4f2ed0d73aea35404a">IsIdleReportVisible</a> ()</td></tr>
<tr class="memdesc:aeb29563c3ce66f4f2ed0d73aea35404a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if idle report is visible.  <br /></td></tr>
<tr class="separator:aeb29563c3ce66f4f2ed0d73aea35404a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f8742608871086c9bbeb6a1bbb525d" id="r_ad9f8742608871086c9bbeb6a1bbb525d"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9f8742608871086c9bbeb6a1bbb525d">IsSaveWarningScreenVisible</a> ()</td></tr>
<tr class="memdesc:ad9f8742608871086c9bbeb6a1bbb525d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if save warning screen is visible.  <br /></td></tr>
<tr class="separator:ad9f8742608871086c9bbeb6a1bbb525d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624cde95da757d9c703c6b2e3755cbcb" id="r_a624cde95da757d9c703c6b2e3755cbcb"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a624cde95da757d9c703c6b2e3755cbcb">IsSaveWarningTextDisplayed</a> ()</td></tr>
<tr class="memdesc:a624cde95da757d9c703c6b2e3755cbcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if save warning text is added to report.  <br /></td></tr>
<tr class="separator:a624cde95da757d9c703c6b2e3755cbcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb967d2ee9367e75f4492b7e8d69fbc" id="r_a7fb967d2ee9367e75f4492b7e8d69fbc"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fb967d2ee9367e75f4492b7e8d69fbc">GameSavedWithNegativeBalance</a> ()</td></tr>
<tr class="memdesc:a7fb967d2ee9367e75f4492b7e8d69fbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if game was saved with negative balance.  <br /></td></tr>
<tr class="separator:a7fb967d2ee9367e75f4492b7e8d69fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a84dc1198fd1131a1c193a52c30ced2" id="r_a4a84dc1198fd1131a1c193a52c30ced2"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a84dc1198fd1131a1c193a52c30ced2">IsAnyScreenOpen</a> ()</td></tr>
<tr class="memdesc:a4a84dc1198fd1131a1c193a52c30ced2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if anything is visible.  <br /></td></tr>
<tr class="separator:a4a84dc1198fd1131a1c193a52c30ced2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Local class instances</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Properties below reference instances of classes created here (currently only <a class="el" href="../../da/db4/class_idle_pages.html" title="Handles story book pages for IdleTTD.">IdlePages</a>). </p>
</div></td></tr>
<tr class="memitem:adb1c9b398e50477034f7b5e4c89a5589" id="r_adb1c9b398e50477034f7b5e4c89a5589"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb1c9b398e50477034f7b5e4c89a5589">IdlePagesInstance</a> = null</td></tr>
<tr class="memdesc:adb1c9b398e50477034f7b5e4c89a5589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to idle pages class instance.  <br /></td></tr>
<tr class="separator:adb1c9b398e50477034f7b5e4c89a5589"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">State variables</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Properties below represent the state of the current IdleTTD session </p>
</td></tr>
<tr class="memitem:aa25635a0c58eab0462d38a65727e0688" id="r_aa25635a0c58eab0462d38a65727e0688"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa25635a0c58eab0462d38a65727e0688">PlayerCompanyID</a> = GSCompany.COMPANY_INVALID</td></tr>
<tr class="memdesc:aa25635a0c58eab0462d38a65727e0688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Player company ID.  <br /></td></tr>
<tr class="separator:aa25635a0c58eab0462d38a65727e0688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0594404e1c9686b50d70b46b24769b74" id="r_a0594404e1c9686b50d70b46b24769b74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0594404e1c9686b50d70b46b24769b74">IdleStoryPageID</a> = GSStoryPage.STORY_PAGE_INVALID</td></tr>
<tr class="memdesc:a0594404e1c9686b50d70b46b24769b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idle story book page ID.  <br /></td></tr>
<tr class="separator:a0594404e1c9686b50d70b46b24769b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343f1d94ad57bc0e6f00d9a34e6f3246" id="r_a343f1d94ad57bc0e6f00d9a34e6f3246"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a343f1d94ad57bc0e6f00d9a34e6f3246">IdleBalance</a> = 0</td></tr>
<tr class="memdesc:a343f1d94ad57bc0e6f00d9a34e6f3246"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latest idle balance.  <br /></td></tr>
<tr class="separator:a343f1d94ad57bc0e6f00d9a34e6f3246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aac23fcac191fb9f818da83393c7b66" id="r_a6aac23fcac191fb9f818da83393c7b66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6aac23fcac191fb9f818da83393c7b66">CurrentCash</a> = 0</td></tr>
<tr class="memdesc:a6aac23fcac191fb9f818da83393c7b66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amount of cash company has.  <br /></td></tr>
<tr class="separator:a6aac23fcac191fb9f818da83393c7b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a91a8cb3a6437f0508783a173924e72" id="r_a4a91a8cb3a6437f0508783a173924e72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a91a8cb3a6437f0508783a173924e72">PreviousMonth</a> = -1</td></tr>
<tr class="memdesc:a4a91a8cb3a6437f0508783a173924e72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latest in-game month detected.  <br /></td></tr>
<tr class="separator:a4a91a8cb3a6437f0508783a173924e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a540485a4cdf5d8309a672f02ea3b062c" id="r_a540485a4cdf5d8309a672f02ea3b062c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a540485a4cdf5d8309a672f02ea3b062c">companyMode</a> = null</td></tr>
<tr class="memdesc:a540485a4cdf5d8309a672f02ea3b062c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Company mode (null if not active)  <br /></td></tr>
<tr class="separator:a540485a4cdf5d8309a672f02ea3b062c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that contains main IdleTTD code. </p>
<p>Once created and started in <a href="https://docs.openttd.org/gs-api/classGSController" target="_blank">GSController</a>.Start(), internally tracks all data and handles all relevant button click events. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8418ce0df004f41687045eea9f5bf7ff" name="a8418ce0df004f41687045eea9f5bf7ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8418ce0df004f41687045eea9f5bf7ff">&#9670;&#160;</a></span>IdleStory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constructor IdleStory::IdleStory </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>companyID</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>storyPageID</em><span class="paramdefsep"> = </span><span class="paramdefval">GSStoryPage.STORY_PAGE_INVALID</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class constructor. Requires valid company id. </p>
<p>Valid Company ID is required, but page ID is not.</p><ul>
<li>When new game starts constructor is called without page ID. Story book page gets created and its id is then stored with saved games to be reused.</li>
<li>If game was loaded, <a class="el" href="../../d5/d5e/class_main_class.html" title="IdleTTD GSController instance.">MainClass</a> will pass existing story book page ID to the constructor.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">companyID</td><td>Player company ID </td></tr>
    <tr><td class="paramname">storyPageID</td><td>Idle story book page ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4ee746cb12cc6874510439575f85a999" name="a4ee746cb12cc6874510439575f85a999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee746cb12cc6874510439575f85a999">&#9670;&#160;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::Initialize </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>lastActiveTime</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>lastYearBalance</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>secondToLastYearBalance</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>intCurrentCash</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes game session. </p>
<p>Called when all argument values are either loaded from saved game or set to default values (zeros) for new games. Shows idle report / missing hq / intro screen as needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lastActiveTime</td><td>Saved game timestamp, stored locally as _LastActiveTime </td></tr>
    <tr><td class="paramname">lastYearBalance</td><td>Saved last year balance, stored locally as _LastYearBalance </td></tr>
    <tr><td class="paramname">secondToLastYearBalance</td><td>Saved second to last year balance, stored locally as _SecondToLastYearBalance </td></tr>
    <tr><td class="paramname">intCurrentCash</td><td>Amount of money (minus loan) that company had at the end of the last (complete) year</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a25e40930a26ac9f78dd42706ad8f3cf5" name="a25e40930a26ac9f78dd42706ad8f3cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e40930a26ac9f78dd42706ad8f3cf5">&#9670;&#160;</a></span>runIdleLoop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::runIdleLoop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes one game script iteration. </p>
<p>This is the code that executes IdleTTD specific stuff whenever the game runs the script.</p>
<p>First time in a year this gets called (preferably Jan 1st) it will store the amount of money company has. If there was a value stored for previous year, it is used to calculate balance for current year before it gets overwritten. This balance serves as a basis for idle balance calculations. </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a747985d06b5102dc5ed52b01846e5163" name="a747985d06b5102dc5ed52b01846e5163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a747985d06b5102dc5ed52b01846e5163">&#9670;&#160;</a></span>HandleButtonClick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::HandleButtonClick </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>buttonId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSEventStoryPageButtonClick</td>          <td class="paramname"><span class="paramname"><em>event</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles button clicks. </p>
<p>Called for events of type GSEvent::ET_STORYPAGE_BUTTON_CLICK whenever a button on idle story book page is clicked.</p>
<dl class="section note"><dt>Note</dt><dd>Handlers are called once per script iteration. This method can be called up to 7 in-game days (~15.5s) after the actual click itself.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonId</td><td>Button story page element ID </td></tr>
    <tr><td class="paramname">event</td><td>Converted event that triggered the handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a58fce52265f3b1a7669058a2d6d7f542" name="a58fce52265f3b1a7669058a2d6d7f542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58fce52265f3b1a7669058a2d6d7f542">&#9670;&#160;</a></span>GetPageID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::GetPageID </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Guaranteed to return valid current idle story page ID. </p>
<p>Makes sure there is a valid idle story page and returns its ID as <a href="https://docs.openttd.org/gs-api/classGSStoryPage" target="_blank">GSStoryPage.StoryPageID</a>.</p>
<dl class="section pre"><dt>Precondition</dt><dd><b>Valid company ID</b> </dd>
<dd>
this.PlayerCompanyID == GSCompany.ResolveCompanyID(this.PlayerCompanyID)</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>GSStoryPageID Idle story page ID </dd></dl>

</div>
</div>
<a id="a4d5e40cdb668941d25303102866d38f4" name="a4d5e40cdb668941d25303102866d38f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d5e40cdb668941d25303102866d38f4">&#9670;&#160;</a></span>ShowIdleReport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::ShowIdleReport </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>intNewIdleBalance</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shows idle report screen. </p>
<p>Calculats idle balance and calls <a class="el" href="../../da/db4/class_idle_pages.html#a95d7f4e8350713bafbd44a153ad5c9b9">ShowIdleReportScreen()</a> on <a class="el" href="#adb1c9b398e50477034f7b5e4c89a5589">this.IdlePagesInstance</a> to show idle report screen on idle story book page. </p><dl class="section note"><dt>Note</dt><dd>Idle report page is <em>quasi-persistent</em>. If player closes story book without clicking the button within, script will open idle report story book page again and keep doing it until player clicks the button on the page.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intNewIdleBalance</td><td>New idle balance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Idle report story book page is displayed </td></tr>
    <tr><td class="paramname">false</td><td>Failed opening idle report story book page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaa8c67c06658ddf3e999d7924dec8a35" name="aaa8c67c06658ddf3e999d7924dec8a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa8c67c06658ddf3e999d7924dec8a35">&#9670;&#160;</a></span>ShowStatsScreen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::ShowStatsScreen </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shows stats screen. </p>
<p>Prepares required data and calls <a class="el" href="../../da/db4/class_idle_pages.html#aed0b5efd40481d9b3f12128d2f34e827">ShowStatsScreen()</a> on <a class="el" href="#adb1c9b398e50477034f7b5e4c89a5589">this.IdlePagesInstance</a> to show stats screen.</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Story book page displayed successfully </td></tr>
    <tr><td class="paramname">false</td><td>Failed displaying story book page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af4dd48131a632e7e2d551712921dc2fd" name="af4dd48131a632e7e2d551712921dc2fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4dd48131a632e7e2d551712921dc2fd">&#9670;&#160;</a></span>ShowSaveWarningScreen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::ShowSaveWarningScreen </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shows save warning screen. </p>
<p>When player saves the game with negative balance show a warning notifying them of idle losses</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Story book page displayed successfully </td></tr>
    <tr><td class="paramname">false</td><td>Failed displaying story book page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a396d3466ec2cd0f415c5dab978a4b17e" name="a396d3466ec2cd0f415c5dab978a4b17e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a396d3466ec2cd0f415c5dab978a4b17e">&#9670;&#160;</a></span>RenderStatsScreen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::RenderStatsScreen </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renders stats screen. </p>
<p>Prepares required data and calls <a class="el" href="../../da/db4/class_idle_pages.html#a0631c47910518f768f2956a4e37d36be">RenderStatsScreen()</a> on <a class="el" href="#adb1c9b398e50477034f7b5e4c89a5589">this.IdlePagesInstance</a> to render stats screen without opening story book page.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a349428cbfc386c53a17520c8c0b7a27a" name="a349428cbfc386c53a17520c8c0b7a27a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a349428cbfc386c53a17520c8c0b7a27a">&#9670;&#160;</a></span>UpdateDuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::UpdateDuration </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates duration text. </p>
<p>If <a class="el" href="../../da/db4/class_idle_pages.html#af787039a4b1e6ab82378f3eee36901f5">this.IdlePagesInstance.PreviousDurationElementID</a> is valid it gets updated with duration text formatted for current time - last active time</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Duration story page element updated </td></tr>
    <tr><td class="paramname">false</td><td>Failed updating duration story page element </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a500fa9afeb6c28147de926112da25d91" name="a500fa9afeb6c28147de926112da25d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a500fa9afeb6c28147de926112da25d91">&#9670;&#160;</a></span>UpdateReportCloseWarning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::UpdateReportCloseWarning </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>boolShowWarning</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates warning text on idle report screen. </p>
<p>Shows or hides text warning player about closing idle report window via button only.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">boolShowWarning</td><td>Controls whether to show the warning or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Warning story page element updated </td></tr>
    <tr><td class="paramname">false</td><td>Failed updating warning story page element </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6817c405df22e242646b903930e144f1" name="a6817c405df22e242646b903930e144f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6817c405df22e242646b903930e144f1">&#9670;&#160;</a></span>UpdateReportSaveWarning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::UpdateReportSaveWarning </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>boolShowWarning</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates save warning element on idle report screen. </p>
<p>Shows or hides text warning player about saving the game with negative balance</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">boolShowWarning</td><td>Controls whether to show save warning or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Save warning story page element updated </td></tr>
    <tr><td class="paramname">false</td><td>Failed updating save warning story page element </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6130daf1b2acf9807ceb2f5795ab0cb6" name="a6130daf1b2acf9807ceb2f5795ab0cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6130daf1b2acf9807ceb2f5795ab0cb6">&#9670;&#160;</a></span>EnterCompanyMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::EnterCompanyMode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enters company mode. </p>
<p>Enters company mode and keeps local reference <a class="el" href="#a540485a4cdf5d8309a672f02ea3b062c" title="Company mode (null if not active)">companyMode</a> to leave it later using <a class="el" href="#a26677bef40de4e35f4823c93aaeda000" title="Leaves company mode.">LeaveCompanyMode()</a> function.</p>
<p>Uses <code>GSCompanyMode</code>, see <a href="https://docs.openttd.org/gs-api/classGSCompanyMode" target="_blank">NoGO API documentation</a> for reference (<em>link will open a new window/tab</em>) .</p>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Entered company mode successfully </td></tr>
    <tr><td class="paramname">false</td><td>Failed entering company mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26677bef40de4e35f4823c93aaeda000" name="a26677bef40de4e35f4823c93aaeda000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26677bef40de4e35f4823c93aaeda000">&#9670;&#160;</a></span>LeaveCompanyMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::LeaveCompanyMode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Leaves company mode. </p>
<p>Leaves company mode, resetting local reference <a class="el" href="#a540485a4cdf5d8309a672f02ea3b062c" title="Company mode (null if not active)">companyMode</a> that was set in <a class="el" href="#a6130daf1b2acf9807ceb2f5795ab0cb6" title="Enters company mode.">EnterCompanyMode()</a> function.</p>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Left company mode successfully </td></tr>
    <tr><td class="paramname">false</td><td>Failed leaving company mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5ebbc3449e9db49d30910ba531f7072a" name="a5ebbc3449e9db49d30910ba531f7072a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ebbc3449e9db49d30910ba531f7072a">&#9670;&#160;</a></span>SetLastYearBalance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::SetLastYearBalance </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>value</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores last year balance. </p>
<p>Updates _SecondToLastYearBalance with previous value of _LastYearBalance before setting _LastYearBalance to new value</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>New balance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="ace351584ef5dbdaab7c63520ee340a76" name="ace351584ef5dbdaab7c63520ee340a76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace351584ef5dbdaab7c63520ee340a76">&#9670;&#160;</a></span>SetLastInactiveSeconds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::SetLastInactiveSeconds </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>value</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores last inactive seconds. </p>
<p>Based on _LastActiveTime, this value is stored for using in strings and calculations</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>New value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a7aad523bd5f2c3634482aad2dd66bed2" name="a7aad523bd5f2c3634482aad2dd66bed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aad523bd5f2c3634482aad2dd66bed2">&#9670;&#160;</a></span>CalculateIdleBalance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::CalculateIdleBalance </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates latest idle balance. </p>
<p>Based on latest year balance, idle multiplier setting and time passed since saving the game, function calculates and returns amount that should be added or subtracted from company bank balance.</p>
<dl class="section return"><dt>Returns</dt><dd>integer Amount of money company earned or lost since last time game was saved. </dd></dl>

</div>
</div>
<a id="ab28a579eebace91e5c8f9eb988aff6d8" name="ab28a579eebace91e5c8f9eb988aff6d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28a579eebace91e5c8f9eb988aff6d8">&#9670;&#160;</a></span>GetCurrentCash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::GetCurrentCash </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>boolIgnoreLoan</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns bank balance for player. </p>
<p>Can include loans</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">boolIgnoreLoan</td><td>Ignore loan </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Cash balance </dd></dl>

</div>
</div>
<a id="a4463aa3d8cfd2316b7f3a784d11cefa4" name="a4463aa3d8cfd2316b7f3a784d11cefa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4463aa3d8cfd2316b7f3a784d11cefa4">&#9670;&#160;</a></span>ChangeBankBalance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::ChangeBankBalance </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>balanceChange</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes company bank balance. </p>
<p>Adds (or subtracts) balanceChange amount from company bank balance. Creates news with details if balance change was successful.</p>
<dl class="section pre"><dt>Precondition</dt><dd>this.PlayerCompanyID != GSCompany.COMPANY_INVALID </dd>
<dd>
GSCompany.ResolveCompanyID(this.PlayerCompanyID) == this.PlayerCompanyID </dd>
<dd>
argument <code>balanceChange != 0</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">balanceChange</td><td>Amount to add or subtract from company bank balance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Balance changed successfully </td></tr>
    <tr><td class="paramname">false</td><td>Balance change failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa557428df21d229ec98191c4e485b74b" name="aa557428df21d229ec98191c4e485b74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa557428df21d229ec98191c4e485b74b">&#9670;&#160;</a></span>ShowIdleBalanceNews()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::ShowIdleBalanceNews </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>balanceChange</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Displays news about idle balance. </p>
<p>If script settings allow, creates and displays a news story about account balance changes caused by IdleTTD</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">balanceChange</td><td>Amount of money added or removed from company bank account</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>News created successfully </td></tr>
    <tr><td class="paramname">false</td><td>Failed creating news </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a929e5de04581c624b717751cc2d4bceb" name="a929e5de04581c624b717751cc2d4bceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929e5de04581c624b717751cc2d4bceb">&#9670;&#160;</a></span>ScrollToCompanyHQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::ScrollToCompanyHQ </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scrolls to HQ. </p>
<p>Centers viewport on company hq tile if hq is built</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a9c76727439a2fee352425103d9bc1c2f" name="a9c76727439a2fee352425103d9bc1c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c76727439a2fee352425103d9bc1c2f">&#9670;&#160;</a></span>GetSummaryVehicleStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::GetSummaryVehicleStats </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>force</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns summary stats for all vehicles. </p>
<p>Iterates through all vehicle types and summarizes stats (count, balance, idleBalance) for them. Values are per in-game year</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">force</td><td>Force refreshing cached stats</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SQTable Summary stats table </dd></dl>

</div>
</div>
<a id="ae6f1020275c85f032107fd7853fc1c58" name="ae6f1020275c85f032107fd7853fc1c58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f1020275c85f032107fd7853fc1c58">&#9670;&#160;</a></span>GetAllVehicleTypeStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::GetAllVehicleTypeStats </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>force</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns vehicle stats grouped by type. </p>
<p>Iterates through all vehicle types and summarizes stats (count, balance, idleBalance) for them (per type). Values are per in-game year.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">force</td><td>Force refreshing cached stats</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An array of vehicle summary tables </dd></dl>

</div>
</div>
<a id="ab818e77714f4fa33ae381d8e9db81c2f" name="ab818e77714f4fa33ae381d8e9db81c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab818e77714f4fa33ae381d8e9db81c2f">&#9670;&#160;</a></span>GetVehicleTypeStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::GetVehicleTypeStats </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>vehicleType</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>force</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns summary stats vehicles of given type. </p>
<p>Iterates through all vehicles of the same type and summarizes stats (count, balance, idleBalance) for them. Values are per in-game year</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vehicleType</td><td><code>GSVehicle::VehicleType</code> Vehicle type ID </td></tr>
    <tr><td class="paramname">force</td><td>Force refreshing cached stats</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SQTable Summary stats table (or null) </dd></dl>

</div>
</div>
<a id="a9b84852c6e561b881bffcf8c4b125d95" name="a9b84852c6e561b881bffcf8c4b125d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b84852c6e561b881bffcf8c4b125d95">&#9670;&#160;</a></span>CacheVehicleStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::CacheVehicleStats </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>force</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refreshes vehicle stats cache. </p>
<p>Retrieves fresh values for all stats and updates cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">force</td><td>Force refreshing cached stats</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="aeb29563c3ce66f4f2ed0d73aea35404a" name="aeb29563c3ce66f4f2ed0d73aea35404a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb29563c3ce66f4f2ed0d73aea35404a">&#9670;&#160;</a></span>IsIdleReportVisible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::IsIdleReportVisible </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if idle report is visible. </p>
<p>If idle report is rendered returns true, even if story book window is closed</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Idle report is rendered </td></tr>
    <tr><td class="paramname">false</td><td>Idle report is not rendered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9f8742608871086c9bbeb6a1bbb525d" name="ad9f8742608871086c9bbeb6a1bbb525d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9f8742608871086c9bbeb6a1bbb525d">&#9670;&#160;</a></span>IsSaveWarningScreenVisible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::IsSaveWarningScreenVisible </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if save warning screen is visible. </p>
<p>If save warning is rendered returns true, even if story book window is closed</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Save warning screen is rendered </td></tr>
    <tr><td class="paramname">false</td><td>Save warning screen is not rendered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a624cde95da757d9c703c6b2e3755cbcb" name="a624cde95da757d9c703c6b2e3755cbcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624cde95da757d9c703c6b2e3755cbcb">&#9670;&#160;</a></span>IsSaveWarningTextDisplayed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::IsSaveWarningTextDisplayed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if save warning text is added to report. </p>
<p>If save warning text is added to report screen (and report screen is rendered) returns true</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Warning text is added to report screen and report screen is rendered </td></tr>
    <tr><td class="paramname">false</td><td>Warning text is not added to report screen or report screen is not rendered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7fb967d2ee9367e75f4492b7e8d69fbc" name="a7fb967d2ee9367e75f4492b7e8d69fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb967d2ee9367e75f4492b7e8d69fbc">&#9670;&#160;</a></span>GameSavedWithNegativeBalance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::GameSavedWithNegativeBalance </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if game was saved with negative balance. </p>
<p>This function determines if game was saved while having lost money in previous year. We need to inform the player if that's the case.</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Game was saved with negative balance and no warning was displayed </td></tr>
    <tr><td class="paramname">false</td><td>Game was saved with positive balance <b>or</b> it was saved with positive balance but the warning was/is already displayed to players </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a84dc1198fd1131a1c193a52c30ced2" name="a4a84dc1198fd1131a1c193a52c30ced2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a84dc1198fd1131a1c193a52c30ced2">&#9670;&#160;</a></span>IsAnyScreenOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function IdleStory::IsAnyScreenOpen </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if anything is visible. </p>
<p>Check if story book window is open and that any of the screens is rendered</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>One of the screens is rendered and visible </td></tr>
    <tr><td class="paramname">false</td><td>No screen is visible </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa25635a0c58eab0462d38a65727e0688" name="aa25635a0c58eab0462d38a65727e0688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25635a0c58eab0462d38a65727e0688">&#9670;&#160;</a></span>PlayerCompanyID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IdleStory::PlayerCompanyID = GSCompany.COMPANY_INVALID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Player company ID. </p>
<p>Although initially set to <a href="https://docs.openttd.org/gs-api/classGSCompany" target="_blank">GSCompany::COMPANY_INVALID</a>, this value gets populated in constructor so it can be regarded as always present. </p>

</div>
</div>
<a id="a0594404e1c9686b50d70b46b24769b74" name="a0594404e1c9686b50d70b46b24769b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0594404e1c9686b50d70b46b24769b74">&#9670;&#160;</a></span>IdleStoryPageID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IdleStory::IdleStoryPageID = GSStoryPage.STORY_PAGE_INVALID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Idle story book page ID. </p>
<p>Set to <a href="https://docs.openttd.org/gs-api/classGSStoryPage" target="_blank">GSStoryPage</a>.STORY_PAGE_INVALID by, gets created when new game starts and saved to be re-used on game load. </p><dl class="section note"><dt>Note</dt><dd>Although this property is public and accesible from outside it shouldn't be changed directly, <a class="el" href="#a58fce52265f3b1a7669058a2d6d7f542">this.GetPageID()</a> should be used instead. </dd></dl>

</div>
</div>
<a id="a343f1d94ad57bc0e6f00d9a34e6f3246" name="a343f1d94ad57bc0e6f00d9a34e6f3246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a343f1d94ad57bc0e6f00d9a34e6f3246">&#9670;&#160;</a></span>IdleBalance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IdleStory::IdleBalance = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Latest idle balance. </p>
<p>Amount of money that player receives (or loses) upon loading saved game. This is basically last year balance multiplied by percent value derived from <a class="el" href="../../index.html#config_sec">idle_multiplier</a> game setting.</p>
<p>Value from this property is used when changing player bank balance, and is always reset to 0 afterwards. </p>

</div>
</div>
<a id="a6aac23fcac191fb9f818da83393c7b66" name="a6aac23fcac191fb9f818da83393c7b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aac23fcac191fb9f818da83393c7b66">&#9670;&#160;</a></span>CurrentCash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IdleStory::CurrentCash = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Amount of cash company has. </p>
<p>Amount of money the company had in the beginning of current year. Used internally for calulating idle balance </p>

</div>
</div>
<a id="a4a91a8cb3a6437f0508783a173924e72" name="a4a91a8cb3a6437f0508783a173924e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a91a8cb3a6437f0508783a173924e72">&#9670;&#160;</a></span>PreviousMonth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IdleStory::PreviousMonth = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Latest in-game month detected. </p>
<p>Used internally to detect new year and recalculate last year balance </p>

</div>
</div>
<a id="a540485a4cdf5d8309a672f02ea3b062c" name="a540485a4cdf5d8309a672f02ea3b062c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a540485a4cdf5d8309a672f02ea3b062c">&#9670;&#160;</a></span>companyMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IdleStory::companyMode = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Company mode (null if not active) </p>
<p>Reference to active company mode, used internally by <a class="el" href="#a6130daf1b2acf9807ceb2f5795ab0cb6" title="Enters company mode.">EnterCompanyMode</a> and <a class="el" href="#a26677bef40de4e35f4823c93aaeda000" title="Leaves company mode.">LeaveCompanyMode</a> functions. </p>

</div>
</div>
<a id="adb1c9b398e50477034f7b5e4c89a5589" name="adb1c9b398e50477034f7b5e4c89a5589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb1c9b398e50477034f7b5e4c89a5589">&#9670;&#160;</a></span>IdlePagesInstance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/db4/class_idle_pages.html">IdlePages</a> IdleStory::IdlePagesInstance = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reference to idle pages class instance. </p>
<p>Gets created in <a class="el" href="#a4ee746cb12cc6874510439575f85a999" title="Initializes game session.">Initialize</a> and lives throughout the session. Manages and renders story book page screens. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/d13/class_idle_story.html">IdleStory</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
