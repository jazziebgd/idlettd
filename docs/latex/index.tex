\chapter{Idle\+TTD game script}
\hypertarget{index}{}\label{index}\index{IdleTTD game script@{IdleTTD game script}}
\hypertarget{index_intro_sec}{}\doxysection{\texorpdfstring{Introduction}{Introduction}}\label{index_intro_sec}
Idle\+TTD is a game script that converts {\itshape Open\+TTD} into an idle-\/like game without affecting core gameplay. Players can earn money even when the game is not running.\hypertarget{index_usage_sec}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{index_usage_sec}
\hypertarget{index_install_subsec}{}\doxysubsection{\texorpdfstring{Installation}{Installation}}\label{index_install_subsec}
Install {\bfseries{Idle\+TTD}} game script using Open\+TTD interface or copy it to your Open\+TTD {\ttfamily game} directory.\hypertarget{index_config_sec}{}\doxysubsection{\texorpdfstring{Configuration}{Configuration}}\label{index_config_sec}
Script can be configured using the Open\+TTD interface for game scripts. 

\begin{center} \tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{5}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type / Range   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Note    }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type / Range   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Note    }\\\cline{1-5}
\endhead
{\ttfamily idle\+\_\+multiplier}   &\PBS\centering 1 -\/ 10   &\PBS\centering {\bfseries{2}}   &Multiplier used to calculate idle balance   &{\itshape Integer value is multiplied by 0.\+001 (0.\+1\%) to get actual value}    \\\cline{1-5}
{\ttfamily show\+\_\+intro}   &\PBS\centering {\ttfamily bool}   &\PBS\centering {\itshape {\ttfamily {\bfseries{true}}}}   &Enables or disables intro popups   &{\itshape Does not affect idle report windows.}    \\\cline{1-5}
{\ttfamily show\+\_\+news}   &\PBS\centering {\ttfamily bool}   &\PBS\centering {\itshape {\ttfamily {\bfseries{true}}}}   &Enables or disables idle balance news   &\\\cline{1-5}
{\ttfamily show\+\_\+save\+\_\+warning}   &\PBS\centering {\ttfamily bool}   &\PBS\centering {\itshape {\ttfamily {\bfseries{true}}}}   &Enables or disables save warnings   &\\\cline{1-5}
{\ttfamily day\+\_\+interval}   &\PBS\centering 1 -\/ 7   &\PBS\centering {\bfseries{2}}   &Days to wait after each script run   &{\itshape Intended for eventual performance tuning.}    \\\cline{1-5}
\multicolumn{5}{|l|}{\begin{center}{\bfseries{Developer mode settings}}~\newline

\footnotesize Hidden by default, you need to \href{https://wiki.openttd.org/en/Development/Script/Need\%20To\%20Know\#logging-and-debug-panel}{\texttt{ enable developer tools}} in Open\+TTD to see them.
\normalsize \end{center}     }\\\cline{1-5}
{\ttfamily idle\+\_\+enabled}   &\PBS\centering {\ttfamily bool}   &\PBS\centering {\itshape {\ttfamily {\itshape true}}}   &Enables or disables entire script   &\\\cline{1-5}
{\ttfamily show\+\_\+story\+\_\+debug}   &\PBS\centering {\ttfamily bool}   &\PBS\centering {\ttfamily {\itshape false}}   &Enables or disables debug text on pages   &\\\cline{1-5}
{\ttfamily ignore\+\_\+hq}   &\PBS\centering {\ttfamily bool}   &\PBS\centering {\ttfamily {\itshape false}}   &Don\textquotesingle{}t require HQ to start idling   &{\itshape Might alter the way script was intended to work, use with caution.}    \\\cline{1-5}
{\ttfamily log\+\_\+level}   &\PBS\centering 0-\/5   &\PBS\centering {\bfseries{2}}   &Filters logs messages by level   &\\\cline{1-5}
\end{longtabu}
\end{center} \hypertarget{index_run_subsec}{}\doxysubsection{\texorpdfstring{Running Idle\+TTD}{Running Idle\+TTD}}\label{index_run_subsec}
Set {\bfseries{Idle\+TTD}} as your active game script, configure it if needed and play the game. \begin{DoxyNote}{Note}
Script is made only for single player games, won\textquotesingle{}t do anything in multiplayer mode.
\end{DoxyNote}
\hypertarget{index_new_game_usage}{}\doxysubsubsection{\texorpdfstring{Starting a new game}{Starting a new game}}\label{index_new_game_usage}
Intro window will open when new game starts, containing some general info for the player. Other than that, nothing changes in the gameplay until you build Company HQ, save and later load the game. Even the intro window itself can be disabled via script settings.\hypertarget{index_saved_game_usage}{}\doxysubsubsection{\texorpdfstring{Loading a game saved with Idle\+TTD}{Loading a game saved with Idle\+TTD}}\label{index_saved_game_usage}
Upon loading a game saved {\bfseries{Idle\+TTD}} shows a window with idle balance report for player review.  Once player confirms with the button, their bank balance gets updated.

\DoxyHorRuler{0}
\hypertarget{index_story_book_usage}{}\doxysubsubsection{\texorpdfstring{In-\/game usage}{In-\/game usage}}\label{index_story_book_usage}
Player can open closed Idle\+TTD story book page using the toolbar at any time. All story book pages expect report contain "{}\+Help"{} button that opens help screen with detailed information and help text about Idle\+TTD.

When player saves the game with negative balance Idle\+TTD will warn them about losing money upon next game load.

If player haven\textquotesingle{}t met one of prerequisites for Idle\+TTD, they will be informed accordingly.  Idle\+TTD might open a window informing them about Company HQ being required, that they have no valid running vehicles etc.

\DoxyHorRuler{0}


Player can review idle statistics at any moment by opening story book page for Idle\+TTD. 

\DoxyHorRuler{0}
\hypertarget{index_doc_sec}{}\doxysection{\texorpdfstring{Documentation}{Documentation}}\label{index_doc_sec}
All files, classes and members in the script are documented with Doxygen.

You can dive right into the documentation by exploring \href{annotated.html}{\texttt{ class list}} or \href{files.html}{\texttt{ file list}} or check out main classes below.\hypertarget{index_doc_classes}{}\doxysubsection{\texorpdfstring{Class docs}{Class docs}}\label{index_doc_classes}
Below are the links to main classes used by Idle\+TTD.\hypertarget{index_doc_main}{}\doxysubsubsection{\texorpdfstring{Main\+Class}{Main\+Class}}\label{index_doc_main}
GSController for Idle\+TTD game script. Initializes and/or loads necessary data and sets everything up. Runs script loop and passes game events along for handling.


\begin{DoxyItemize}
\item \doxylink{class_main_class}{Class documentation}
\item \href{main.nut}{\texttt{ File documentation}}
\end{DoxyItemize}\hypertarget{index_doc_story}{}\doxysubsubsection{\texorpdfstring{Idle\+Story}{Idle\+Story}}\label{index_doc_story}
Class that handles pretty much all of Idle\+TTD logic.
\begin{DoxyItemize}
\item \doxylink{class_idle_story}{Class documentation}
\item \href{IdleStory.nut}{\texttt{ File documentation}}
\end{DoxyItemize}\hypertarget{index_doc_pages}{}\doxysubsubsection{\texorpdfstring{Idle\+Pages}{Idle\+Pages}}\label{index_doc_pages}
Class that handles Idle\+TTD story book page
\begin{DoxyItemize}
\item \doxylink{class_idle_pages}{Class documentation}
\item \href{IdlePages.nut}{\texttt{ File documentation}}
\end{DoxyItemize}\hypertarget{index_doc_util}{}\doxysubsubsection{\texorpdfstring{Idle\+Util}{Idle\+Util}}\label{index_doc_util}
Class that contains helper and utility methods
\begin{DoxyItemize}
\item \doxylink{class_idle_util}{Class documentation}
\item \href{IdleUtil.nut}{\texttt{ File documentation}}
\end{DoxyItemize}\hypertarget{index_doc_logger}{}\doxysubsubsection{\texorpdfstring{Logger}{Logger}}\label{index_doc_logger}
Class that handles everything related to logging
\begin{DoxyItemize}
\item \doxylink{class_logger}{Class documentation}
\item \href{Logger.nut}{\texttt{ File documentation}}
\end{DoxyItemize}\hypertarget{index_faq_sec}{}\doxysection{\texorpdfstring{FAQ}{FAQ}}\label{index_faq_sec}
\hypertarget{index_faq_1}{}\doxysubsection{\texorpdfstring{I started a game and nothing happened!}{I started a game and nothing happened!}}\label{index_faq_1}
You have to enable the intro in game script settings. If intro is disabled, seeing nothing is expected for new games.\hypertarget{index_faq_2}{}\doxysubsection{\texorpdfstring{I loaded a game and nothing happened!}{I loaded a game and nothing happened!}}\label{index_faq_2}
Make sure you have built a Company HQ and at have at least one vehicle running.\hypertarget{index_faq_3}{}\doxysubsection{\texorpdfstring{I can\textquotesingle{}t close idle report window!}{I can\textquotesingle{}t close idle report window!}}\label{index_faq_3}
Idle report window is meant to be closed by clicking the button within (applying idle balance change in the process). If you close it any other way it will just pop up again.\hypertarget{index_faq_4}{}\doxysubsection{\texorpdfstring{I loaded a game and Idle\+TTD took all my money away!}{I loaded a game and Idle\+TTD took all my money away!}}\label{index_faq_4}
Negative idle balance can happen if you lost money a year before game was saved. 